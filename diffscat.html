<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Differential scattering cross section &mdash; GGADT</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/ggadtfav.ico"/>
    <link rel="top" title="GGADT" href="index.html" />
    <link rel="next" title="Agglomerations of spherical monomers" href="agglomerate.html" />
    <link rel="prev" title="Arguments and parameters" href="options.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="differential-scattering-cross-section">
<span id="diffscat"></span><span id="index-0"></span><h1>Differential scattering cross section<a class="headerlink" href="#differential-scattering-cross-section" title="Permalink to this headline">¶</a></h1>
<p>GGADT by default will produce an orientation-averaged, 1-dimensional result for <img class="math" src="_images/math/c47bf9879a2864f1510fdf829dc5d09a101235f5.png" alt="dC_{\rm sca}/d\Omega(\theta)"/> for a set of <img class="math" src="_images/math/f9f01e3588ff93bddafa4660de6cd5cca9df1d59.png" alt="theta_m"/> determined by either the <a class="reference internal" href="options.html#cmdoption--dtheta"><code class="xref std std-option docutils literal"><span class="pre">--dtheta</span></code></a> parameter or the <a class="reference internal" href="options.html#cmdoption--nscatter"><code class="xref std std-option docutils literal"><span class="pre">--nscatter</span></code></a> parameter.</p>
<div class="section" id="orientation-averaging">
<h2>Orientation averaging<a class="headerlink" href="#orientation-averaging" title="Permalink to this headline">¶</a></h2>
<p>GGADT has three methods for producing averages over orientations, all of which are set by the <code class="xref std std-option docutils literal"><span class="pre">angle-mode</span></code> parameter.</p>
<dl class="docutils">
<dt><strong>random</strong></dt>
<dd>GGADT will chose <code class="docutils literal"><span class="pre">norientations</span></code> random orientations</dd>
<dt><strong>sequential</strong></dt>
<dd>GGADT will choose <code class="docutils literal"><span class="pre">norientations</span></code>, evenly spaced over <img class="math" src="_images/math/e7d97568956b2494dac59b43229d7f096d935d14.png" alt="(\beta, \theta, \phi)"/>.</dd>
<dt><strong>file</strong></dt>
<dd><p class="first">GGADT will read in <strong>file</strong>; each line contains three floating point numbers, representing <img class="math" src="_images/math/e7d97568956b2494dac59b43229d7f096d935d14.png" alt="(\beta, \theta, \phi)"/> (if <a class="reference internal" href="options.html#cmdoption--axes-convention"><code class="xref std std-option docutils literal"><span class="pre">--axes-convention</span></code></a> is set to <code class="docutils literal"><span class="pre">DDSCAT</span></code>), or <img class="math" src="_images/math/2b87ba9131b59a994e8e3ba97d49e5e4315cc50b.png" alt="(\alpha,\beta,\gamma)"/> if <a class="reference internal" href="options.html#cmdoption--axes-convention"><code class="xref std std-option docutils literal"><span class="pre">--axes-convention</span></code></a> is set to <code class="docutils literal"><span class="pre">MSTM</span></code>. See <a class="reference internal" href="conventions.html#conventions"><span>Angle conventions</span></a> for more information about axes conventions. The file should have just three columns, each separated by white-space of some kind (e.g. tab, space):</p>
<div class="last highlight-python"><div class="highlight"><pre>0.0        0.0 0.0
0.234 0.12 0.0
...
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="large-angle-scattering">
<h2>Large angle scattering<a class="headerlink" href="#large-angle-scattering" title="Permalink to this headline">¶</a></h2>
<p>ADT is asymptotically correct as <img class="math" src="_images/math/68adc76074e33210f0450d20e1c94d80a05a7391.png" alt="|m - 1|\rightarrow 0"/> and <img class="math" src="_images/math/b86cc7d44c1dc1bf57b9e97c97fc7909ba0cd736.png" alt="ka\rightarrow\infty"/>. In these limits, scattering at large angles is very small. If you&#8217;re worried about large angle scattering (say <img class="math" src="_images/math/62f3ef8800e25db16311e4909622a67e14d60401.png" alt="\theta &gt; 10^{\circ}"/>), be careful. Obtaining accurate estimates of small intensity scattering at large angles (especially angles &gt; 90 degrees) may require a more exact treatment of the scattering problem (e.g. Mie theory).</p>
<p>Though, technically, the theoretical framework of ADT allows you to calculate <img class="math" src="_images/math/55d20eed017ebeaf5a8e10a9f2f0bf2a8661f917.png" alt="dC_{\rm sca}/d\Omega"/> out to arbitary scattering angle <img class="math" src="_images/math/a9cfbeb8ebee1f365919e147a79e242dcb67ee5d.png" alt="\theta"/>, GGADT will fail at angles close to 90 degrees. GGADT fails partly because of the computational shortcuts that allow GGADT to be extremely fast, and partly because the authors of GGADT didn&#8217;t intend for GGADT to be used at very large scattering angles where ADT may not give the correct results.</p>
<p>If you&#8217;re using GGADT to do <em>very</em> large angle scattering (<img class="math" src="_images/math/b6273faa72de5e54018fcb6f797d428a094fb80c.png" alt="\theta &gt; 50^{\circ}"/>), you will likely run into one or more of these problems:</p>
<ol class="arabic simple">
<li>For the analytic case of <strong>spherical</strong> particles, GGADT <em>should</em> be fine up to any angle you want, but because of some <cite>programming quirks &lt;https://xkcd.com/1513/&gt;</cite>, GGADT will break at <img class="math" src="_images/math/268181e2c477e24ee8415390c73996925deaff2d.png" alt="\theta = 90^{\circ} - \delta"/>. To make <img class="math" src="_images/math/b35a9439ad8c8657b1b1d792ad5c2d77a52c0aef.png" alt="\delta"/> smaller, you should set <a class="reference internal" href="options.html#cmdoption--grid-width"><code class="xref std std-option docutils literal"><span class="pre">--grid-width</span></code></a> to as large a number as you need. An unfortunate side effect: computation time will increase as you increase <a class="reference internal" href="options.html#cmdoption--grid-width"><code class="xref std std-option docutils literal"><span class="pre">--grid-width</span></code></a>, even though you&#8217;re not bothering with any numerical grids. Depending on how close to 90 degrees you&#8217;d like to get, this may present too large a strain on your patience. We&#8217;d like to say this is all intentional in order to prevent you from abusing GGADT for large angle calculations, but really it&#8217;s because we&#8217;re terrible programmers.</li>
<li>For numerical calculations, you run into another limit; <img class="math" src="_images/math/1905aa3ad4a21c30709e7c78b463338eb7443ca9.png" alt="\sin\theta_{\rm max} = \lambda / \Delta x"/>. This can be fixed by using a finer grid, but the above problems will still plague you.</li>
</ol>
</div>
<div class="section" id="d-vs-2d-results">
<h2>1d vs 2d results<a class="headerlink" href="#d-vs-2d-results" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<img alt="_images/fig_norientation_convergence_sm.png" src="_images/fig_norientation_convergence_sm.png" />
<p class="caption"><span class="caption-text">How fast 1d and 2d computations converge. 2d computations, however, usually take significantly longer to run.</span></p>
</div>
<div class="section" id="using-the-nphi-parameter">
<h3>Using the <code class="docutils literal"><span class="pre">nphi</span></code> parameter<a class="headerlink" href="#using-the-nphi-parameter" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="options.html#cmdoption--nphi"><code class="xref std std-option docutils literal"><span class="pre">--nphi</span></code></a> parameter (only used when <a class="reference internal" href="options.html#cmdoption--do-full-2d-fft"><code class="xref std std-option docutils literal"><span class="pre">--do-full-2d-fft</span></code></a> is specified) lets you take advantage of a full 2D calculation of <img class="math" src="_images/math/7f3d0c5b902e1abbcb263885e02bce7ccd9c1eba.png" alt="dC_{\rm sca}/d\Omega(\theta, \phi)"/>, so long as you&#8217;re only interested in the <em>orientation-averaged</em> result that only depend on the scattering angle <img class="math" src="_images/math/a9cfbeb8ebee1f365919e147a79e242dcb67ee5d.png" alt="\theta"/>.</p>
<p>By averaging over <img class="math" src="_images/math/10e009bdb83f96c5f47c58b34d5d4b12ef268d5b.png" alt="\phi"/> for a single orientation, we reduce the number of random (or non-random) orientations that we need to calculate the full 2D <img class="math" src="_images/math/7f3d0c5b902e1abbcb263885e02bce7ccd9c1eba.png" alt="dC_{\rm sca}/d\Omega(\theta, \phi)"/> in order to reach an accurate estimate of <img class="math" src="_images/math/c47bf9879a2864f1510fdf829dc5d09a101235f5.png" alt="dC_{\rm sca}/d\Omega(\theta)"/> (the orientation-averaged result).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Differential scattering cross section</a><ul>
<li><a class="reference internal" href="#orientation-averaging">Orientation averaging</a></li>
<li><a class="reference internal" href="#large-angle-scattering">Large angle scattering</a></li>
<li><a class="reference internal" href="#d-vs-2d-results">1d vs 2d results</a><ul>
<li><a class="reference internal" href="#using-the-nphi-parameter">Using the <code class="docutils literal"><span class="pre">nphi</span></code> parameter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="options.html" title="previous chapter">Arguments and parameters</a></li>
      <li>Next: <a href="agglomerate.html" title="next chapter">Agglomerations of spherical monomers</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/diffscat.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, John Hoffman, Michael Tarczon.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/diffscat.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>