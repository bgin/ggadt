<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for GGADT (version 1.1.0, 25 June 2015),
which calculates scattering properties of dust grains in the interstellar
medium by using anomalous diffraction theory (ADT). 

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GGADT 1.1.0: Installation</title>

<meta name="description" content="GGADT 1.1.0: Installation">
<meta name="keywords" content="GGADT 1.1.0: Installation">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-index.html#Concept-index" rel="index" title="Concept index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="Invoking-GGADT.html#Invoking-GGADT" rel="next" title="Invoking GGADT">
<link href="Overview.html#Overview" rel="prev" title="Overview">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Installation"></a>
<div class="header">
<p>
Next: <a href="Invoking-GGADT.html#Invoking-GGADT" accesskey="n" rel="next">Invoking GGADT</a>, Previous: <a href="Overview.html#Overview" accesskey="p" rel="prev">Overview</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-index.html#Concept-index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Installation-1"></a>
<h2 class="chapter">2 Installation</h2>

<a name="index-installing"></a>
<a name="index-configure"></a>
<a name="index-enable_002dopenmp"></a>
<a name="index-enable_002dfftw3"></a>
<a name="index-gcc"></a>

<a name="System-requirements"></a>
<h3 class="section">2.1 System requirements</h3>
<p>GGADT should install easily on most <em>Unix-based systems</em> (e.g. Linux, Mac) by following the standard GNU install procedures, described in <samp>INSTALL</samp>.
</p>
<div class="example">
<pre class="example">./configure [--enable-openmp] [--enable-fftw3] &hellip;
make
</pre></div>

<p>The <code>ggadt</code> binary is now located in the <code>src</code> directory. An optional next step is to do <code>make install</code>, which installs the ggadt into a globally-accessible folder (usually <code>/usr/local/bin</code>). If you would like to do this, fine, but we prefer a more self-contained setup. We will assume for the remainder of the documentation that you did <em>not</em> do a <code>make install</code>.
</p>
<p>If you did do <code>make install</code>, you can undo it by running <code>make uninstall</code>. To clean and remake GGADT, simply do <code>make clean</code> and then <code>make</code>.
</p>
<p>It should give you a slight (5 - 10%) speed advantage to use <code>-O3</code> optimization. We tried using <code>-Ofast</code>, but this produced a segfault for moderately large 2d grid sizes, and we didn&rsquo;t spend too much time trying to figure out why. So, you can use <code>-Ofast</code> for a little extra <em>oomph</em>, but just know that things might break unexpectedly (the normal, 1d case worked fine for us).
</p>
<div class="example">
<pre class="example">./configure FCFLAGS=&quot;-O3&quot; [--enable-openmp] [--enable-fftw3] &hellip;
</pre></div>

<p>Note
</p>
<a name="Package-dependencies"></a>
<h3 class="section">2.2 Package dependencies</h3>

<p>If you would like to use a particular Fortran compiler, you may specify one by adding <code>FC=/path/to/compiler</code> to the <code>configure</code> arguments.
</p>
<ul>
<li> <strong>Suitable C and Fortran compilers</strong>: GGADT was developed using the GNU compiler suite (version 4.5.4 and higher) throughout, but the <code>configure</code> script will try to work with most common compilers. GGADT has been tested to compile on versions 4.3 and later of gfortran. If you experience any compilation problems, please let John Hoffman know!

</li><li> (<em>Optional</em>) <strong>FFTW 3</strong>. Available at <a href="http://www.fftw.org/">http://www.fftw.org/</a>. If you&rsquo;d prefer not to use the Generalized Prime Factor Algorithm<a name="DOCF8" href="#FOOT8"><sup>8</sup></a>, GGADT also supports FFTW3. 

<ul>
<li> To use FFTW3 instead of GPFA, pass the <code>--enable-fftw3</code> flag to <code>configure</code>. 

</li><li> Though FFTW is widely used and highly optimized, we find that GPFA beats FFTW in almost every case, and has the advantage that it&rsquo;s much simpler to use than FFTW (which has <em>wisdom</em> files to keep track of and additional installation headaches). 

</li><li> <strong>Parallel FFTW3</strong> If you would like to utilize parallelized FFTW, you must pass either <code>--enable-threads</code> and/or <code>--enable-openmp</code> to the <code>configure</code> script of your FFTW3 installation. 

<p>We haven&rsquo;t had a problem on our system (Mac OS X v10.9.5, gfortran 4.9.2_1 installed with Macports), but this is a potential source of problems; some systems may not have OpenMP support for FFTW3 and instead require the use of the <code>pthreads</code> (or some other) library, and our configuration script does <em>not</em> handle this. You&rsquo;re on your own if this is the case. The good news is that FFTW gives at best a negligible increase in speed, and openmp/parallelization does not increase the speed dramatically. In almost every case, you should be perfectly happy with a serial setup.
</p></li></ul>

<ul class="no-bullet">
<li>- <em>Location of the FFTW3 headers</em>: In order for GGADT to find the Fortran headers for FFTW3, they must be in the standard location (<code>/usr/local/include</code> or <code>usr/include</code>) or in <code>$prefix/include</code> where <code>$prefix</code> is defined by doing <code>./configure --prefix=&lt;prefix&gt;</code> at the configuration step for <code>ggadt</code>. If you have FFTW3 installed with MacPorts, the configure script should be able to find it for you. However, if you have MacPorts installed in a non-standard location (i.e. not <code>/opt</code>), it would behoove you to pass the <code>macports_prefix=...</code> argument to the <code>configure</code> script.

</li></ul>



<ul class="no-bullet">
<li>- <strong>OpenMP</strong>: For the OpenMP version of GGADT, you must have C and Fortran compilers that are compatible with OpenMP version 4.0. 

</li></ul>

</li><li> <strong>Mac users</strong>
<ul class="no-bullet">
<li>- Install the latest edition of <strong>XCode command-line tools</strong>. As of Mac OSX v10.9.1, the command-line tools are not included in XCode automatically, so you have to do this on your own.
</li><li>- <strong>Macports</strong> is highly recommended. It provides a convenient, safe package manager for Mac (unofficial, of course). To set up an environment condusive to compiling and running <code>ggadt</code>, do the following from the terminal:
<ol>
<li> Download and install macports from <a href="http://www.macports.org/">http://www.macports.org/</a>.
</li><li> Install gcc (4.5.4 or higher is recommended), and the FFTW3 library if you want:
<div class="example">
<pre class="example">sudo port install gcc45
sudo port install fftw-3 (optional)
</pre></div>
</li><li> Set the gcc compiler: <code>sudo port select --set gcc mp-gcc45</code>
</li></ol>
</li></ul>
</li><li> (<em>Optional</em>) <strong>Python 2.7</strong> or later for some of the included scripts.
</li><li> (<em>Optional</em>) <strong>matplotlib</strong>,<strong>numpy</strong>, <strong>scipy</strong> python librarys if you wish to use the included plotting scripts. More information can be found at <a href="http://scipy.org/getting-started.html">http://scipy.org/getting-started.html</a>.
</li></ul>



<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT8" href="#DOCF8">(8)</a></h3>
<p>Clive Temperton. Self-sorting mixed-radix fast Fourier transforms. <em>Journal of Computational Physics</em>, 52(1):1&ndash;23, 1983.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Invoking-GGADT.html#Invoking-GGADT" accesskey="n" rel="next">Invoking GGADT</a>, Previous: <a href="Overview.html#Overview" accesskey="p" rel="prev">Overview</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-index.html#Concept-index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
